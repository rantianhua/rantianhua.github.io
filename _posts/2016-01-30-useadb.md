##什么是adb？

__adb__，全称Android Debug Brige。是一个很强大的命令行工具，通过它你能用各种命令操作你的android设备。该程序包含以下三个部分：

![程序结构说明图](/home/rth/下载/adb.png)

* __adb client__    
    client运行在PC端，每当发起一个adb命令的时候，就会开启一个client程序，开启后，会自动检查adb server有没有运行，若没有，则先开启adb server，此后通过5037端口与adb-server进行通信。
* __adb server__    
    同样运行在PC端，管理多个client进程并和adb deamon之间进行通信。开启后会自动检测并绑定5037端口，通过这个端口与client进行通信。而和adb deamon的通信通过5555-5585之间的端口进行，当一个设备连接到PC端，会为这个设备分配两个连续的端口号，其中奇数端口号用来与设备中的adb deamon进程通信，偶数端口允许与设备进行交互，让server直接从设备中读取数据。
* __adb deamon__    
    一般简称adbd，运行在设备端（模拟器或者Android真机）。当一个设备连接到PC端，就会开启这样一个后台进程得到adb server分配的端口号后进行与PC端的通信。    

##adb安装    

在Ubuntu系统下，通过命令`sudo apt-get install android-tools-adb`即可安装，当然如果你的电脑里已经安装了Android SDK的话就不需要再安装了，切换到SDK目录的platform-tools目录里就可以运行adb命令：`./adb`。

---
###以下为一些实用的、常见的adb命令     
---   

####列出已经连接的设备

```
adb devices
```
执行后将会看到每一个已经连接的设备。如果此时已经连接了多台设备，比如同时开了两个模拟器，再连接了一个真机。然后需要操作其中一个设备时，adb命令需要用”-s“参数指定要操作的设备，使用如下：
```
adb -s <serialNumber> <command>
```
其中<serialNumber>可以同个devices命令查看，<command>为你要执行的命令。

####文件操作

* 将PC端文件复制到设备    
```
adb push /home/user/document/a.txt /data/local/
```
上述命令的作用是将/home/user/document文件夹下的a.txt文件复制到手机的/data/local文件夹下。 
   
* 将手机上的文件复制到PC端
```
adb pull /sdcard/b.txt document/
```
上述命令的作用是将手机sdcard文件夹下的b.txt文件复制到PC的document文件夹下。








